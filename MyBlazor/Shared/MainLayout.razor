@using MyBlazor.Libraries.ShoppingCartService.Models;
@using MyBlazor.Libraries.ShoppingCart;
@inherits LayoutComponentBase
@inject IShoppingCartService shoppingCartService

<CascadingValue Value="@shoppingCartCountModel" Name="ShoppingCartCountModel">
    <Header />
    <div class="container">
        @Body
    </div>
</CascadingValue>
<Footer />


@code {
    ShoppingCartCountModel? shoppingCartCountModel { get; set; }

    protected override void OnInitialized()
    {
        shoppingCartCountModel = new ShoppingCartCountModel();
        shoppingCartCountModel.Count = shoppingCartService.Count();

        base.OnInitialized();
    }
}